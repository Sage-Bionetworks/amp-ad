{"version":3,"sources":["../static/js/13.99b2970d.chunk.js","queries/getWikiData.js","components/Welcome.js"],"names":["webpackJsonp","489","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","handleErrors","response","ok","Error","getWikiData","wikiId","token","synId","length","undefined","fetch","method","headers","sessionToken","json","processedData","catch","d","getMarkdown","getWikiMarkdownSegments","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","_this","asyncForEach","_ref","a","mark","_callee","array","callback","index","wrap","_context","prev","next","stop","_x7","_x8","getWikiHeaderTree","offsetVal","limit","fetchReq","props","name","data","markdownObj","markdown","handleChanges","getMarkdownSegment","handleNestedChanges","wikiID","stateKey","getSubPageHeaders","handleChangesFunc","paginationValue","results","filteredResults","filter","wikiPage","parentId","waitFor","ms","r","setTimeout","_ref2","_callee2","header","_context2","id","_x11","505","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2__queries_getWikiData__","_createClass","defineProperties","target","i","descriptor","protoProps","staticProps","Welcome","_Component","_temp","_ret","_len","args","Array","_key","getPrototypeOf","concat","removeMarkdownDivWrapper","markdownString","substr","openUrl","event","link","preventDefault","window","open","createElement","className","Component","propTypes","PropTypes","func","isRequired"],"mappings":"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","file":"static/js/13.99b2970d.chunk.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 489:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export removeMarkdownDivWrapper */\n/* unused harmony export getWikiData */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getMarkdown; });\n/* unused harmony export getMarkdownSegment */\n/* unused harmony export getWikiHeaderTree */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getWikiMarkdownSegments; });\n/* unused harmony export getSubPageHeaders */\n/* unused harmony export getEntityHeader */\n/* unused harmony export getWikiKey */\n/* unused harmony export waitFor */\n/* unused harmony export asyncForEach */\n/* unused harmony export getUserProfileImage */\n/* unused harmony export getUserProfile */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\nvar _this=this;var asyncForEach=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(array,callback){var index;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:index=0;case 1:if(!(index<array.length)){_context.next=7;break;}_context.next=4;return callback(array[index],index,array);case 4:index++;_context.next=1;break;case 7:case\"end\":return _context.stop();}}},_callee,this);}));return function asyncForEach(_x7,_x8){return _ref.apply(this,arguments);};}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function handleErrors(response){if(!response.ok){throw Error(response);}return response;}var getWikiKey=function getWikiKey(token,synId){return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/entity/\"+synId+\"/wikikey\",{method:\"GET\",headers:{sessionToken:token}}).then(function(data){return data.json();}).then(function(processedData){return processedData;}).catch(handleErrors);};var getUserProfileImage=function getUserProfileImage(profileId){return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/userProfile/\"+profileId+\"/image\",{method:\"GET\"}).then(function(data){return data;}).catch(handleErrors);};var getUserProfile=function getUserProfile(profileId,token){return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/userProfile/\"+profileId,{method:\"GET\",headers:{sessionToken:token}}).then(function(data){return data.json();}).then(function(processedData){return processedData;}).catch(handleErrors);};function getWikiData(wikiId,token){var synId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"syn12666371\";return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/entity/\"+synId+\"/wiki/\"+wikiId,{method:\"GET\",headers:{sessionToken:token}}).then(function(response){if(response.ok){return response.json();}return handleErrors(response);}).then(function(processedData){return processedData;}).catch(function(error){return\"\";});}var getWikiHeaderTree=function getWikiHeaderTree(token,synId){var offsetVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var limit=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var fetchReq=\"https://repo-prod.prod.sagebase.org/repo/v1/entity/\"+synId+\"/wikiheadertree?offset=\"+offsetVal+\"&limit=\"+limit;if(offsetVal===false||limit===false){fetchReq=\"https://repo-prod.prod.sagebase.org/repo/v1/entity/\"+synId+\"/wikiheadertree\";}return fetch(fetchReq,{method:\"GET\",headers:{sessionToken:token}}).then(function(response){if(response.ok){return response.json();}return handleErrors(response);}).then(function(processedData){return processedData;}).catch(handleErrors);};var getEntityHeader=function getEntityHeader(token,payload){return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/entity/header\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",sessionToken:token},body:JSON.stringify(payload)}).then(function(data){return data.json();}).then(function(processedData){return processedData;}).catch(handleErrors);};var getMarkdown=function getMarkdown(props,wikiId){var name=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"wikiMarkdown\";var synId=arguments[3];return getWikiData(wikiId,props.token.sessionToken,synId).then(function(data){var markdownObj={markdown:\"\"};if(data!==undefined){markdownObj=data;}props.handleChanges(name,markdownObj.markdown);}).catch(handleErrors);};var getMarkdownSegment=function getMarkdownSegment(handleNestedChanges,sessionToken){var wikiID=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";var synId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"syn12666371\";var stateKey=arguments[4];return getWikiData(wikiID,sessionToken,synId).then(function(data){handleNestedChanges(stateKey,wikiID,data.markdown);}).catch(handleErrors);};var getSubPageHeaders=function getSubPageHeaders(wikiId,synId,sessionToken,handleChangesFunc,paginationValue,limit){return getWikiHeaderTree(sessionToken,synId,paginationValue,limit).then(function(results){var filteredResults=results.results.filter(function(wikiPage){return wikiPage.parentId===wikiId;});if(filteredResults.length>0){return filteredResults;}if(paginationValue>350){return[];}return getSubPageHeaders(wikiId,synId,sessionToken,handleChangesFunc,paginationValue+10,limit);}).catch(handleErrors);};var waitFor=function waitFor(ms){return new Promise(function(r){return setTimeout(r,ms);});};var getWikiMarkdownSegments=function getWikiMarkdownSegments(wikiId,synId,stateKey,sessionToken,handleNestedChanges){var paginationValue=arguments.length>5&&arguments[5]!==undefined?arguments[5]:10;var limit=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;return getSubPageHeaders(wikiId,synId,sessionToken,handleNestedChanges,paginationValue,limit).then(function(headers){asyncForEach(headers,function(){var _ref2=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(header){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return waitFor(100);case 2:getMarkdownSegment(handleNestedChanges,sessionToken,header.id,undefined,stateKey);case 3:case\"end\":return _context2.stop();}}},_callee2,_this);}));return function(_x11){return _ref2.apply(this,arguments);};}());});};var removeMarkdownDivWrapper=function removeMarkdownDivWrapper(markdown){var markdownString=markdown;markdownString=markdownString.substr(10);markdownString=markdownString.substr(0,markdownString.length-12);return markdownString;};\n\n/***/ }),\n\n/***/ 505:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__queries_getWikiData__ = __webpack_require__(489);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Welcome=function(_Component){_inherits(Welcome,_Component);function Welcome(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Welcome);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Welcome.__proto__||Object.getPrototypeOf(Welcome)).call.apply(_ref,[this].concat(args))),_this),_this.removeMarkdownDivWrapper=function(markdown){var markdownString=markdown;markdownString=markdownString.substr(10);markdownString=markdownString.substr(0,markdownString.length-12);return markdownString;},_this.openUrl=function(event,link){event.preventDefault();window.open(link,\"_self\");},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Welcome,[{key:\"componentDidMount\",value:function componentDidMount(){Object(__WEBPACK_IMPORTED_MODULE_2__queries_getWikiData__[\"a\" /* getMarkdown */])(this.props,\"581935\",\"welcomeHeaderMarkdown\");Object(__WEBPACK_IMPORTED_MODULE_2__queries_getWikiData__[\"a\" /* getMarkdown */])(this.props,\"581936\",\"welcomeHeaderMarkdownText\");}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.handleChanges(\"wikiMarkdown\",\"\");}},{key:\"render\",//<ReactMarkdown\n//source={this.props.markdownText}\n//escapeHtml={false}\n///>\nvalue:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"section\",{className:\"row hero\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"container flex\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"row hero-message\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"col-sm-9\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"h1\",null,\"Welcome to the AMP-AD Knowledge Portal\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"p\",null,\"Discover and download data, analyses, and tools for the study of Alzheimer's disease generated through the National Institute on Aging-led AD Translational Research Program.\")))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"hero-background\"}));}}]);return Welcome;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);Welcome.propTypes={handleChanges:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired};/* harmony default export */ __webpack_exports__[\"default\"] = (Welcome);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.99b2970d.chunk.js","function handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response)\n  }\n  return response\n}\n\nconst getWikiKey = (token, synId) => {\n  return fetch(\n    `https://repo-prod.prod.sagebase.org/repo/v1/entity/${synId}/wikikey`,\n    {\n      method: \"GET\",\n      headers: {\n        sessionToken: token,\n      },\n    },\n  )\n    .then((data) => {\n      return data.json()\n    })\n    .then((processedData) => {\n      return processedData\n    })\n    .catch(handleErrors)\n}\n\nconst getUserProfileImage = (profileId) => {\n  return fetch(\n    `https://repo-prod.prod.sagebase.org/repo/v1/userProfile/${profileId}/image`,\n    {\n      method: \"GET\",\n    },\n  )\n    .then((data) => {\n      return data\n    })\n    .catch(handleErrors)\n}\n\nconst getUserProfile = (profileId, token) => {\n  return fetch(\n    `https://repo-prod.prod.sagebase.org/repo/v1/userProfile/${profileId}`,\n    {\n      method: \"GET\",\n      headers: {\n        sessionToken: token,\n      },\n    },\n  )\n    .then((data) => {\n      return data.json()\n    })\n    .then((processedData) => {\n      return processedData\n    })\n    .catch(handleErrors)\n}\n\nfunction getWikiData(wikiId, token, synId = \"syn12666371\") {\n  return fetch(\n    `https://repo-prod.prod.sagebase.org/repo/v1/entity/${synId}/wiki/${wikiId}`,\n    {\n      method: \"GET\",\n      headers: {\n        sessionToken: token,\n      },\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        return response.json()\n      }\n      return handleErrors(response)\n    })\n    .then((processedData) => {\n      return processedData\n    })\n    .catch((error) => {\n      return \"\"\n    })\n}\n\nconst getWikiHeaderTree = (token, synId, offsetVal = 0, limit = 10) => {\n  let fetchReq = `https://repo-prod.prod.sagebase.org/repo/v1/entity/${synId}/wikiheadertree?offset=${offsetVal}&limit=${limit}`\n  if (offsetVal === false || limit === false) {\n    fetchReq = `https://repo-prod.prod.sagebase.org/repo/v1/entity/${synId}/wikiheadertree`\n  }\n  return fetch(fetchReq, {\n    method: \"GET\",\n    headers: {\n      sessionToken: token,\n    },\n  })\n    .then((response) => {\n      if (response.ok) {\n        return response.json()\n      }\n      return handleErrors(response)\n    })\n    .then((processedData) => {\n      return processedData\n    })\n    .catch(handleErrors)\n}\n\nconst getEntityHeader = (token, payload) => {\n  return fetch(\"https://repo-prod.prod.sagebase.org/repo/v1/entity/header\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      sessionToken: token,\n    },\n    body: JSON.stringify(payload),\n  })\n    .then((data) => {\n      return data.json()\n    })\n    .then((processedData) => {\n      return processedData\n    })\n    .catch(handleErrors)\n}\n\nconst getMarkdown = (props, wikiId, name = \"wikiMarkdown\", synId) => {\n  return getWikiData(wikiId, props.token.sessionToken, synId)\n    .then((data) => {\n      let markdownObj = { markdown: \"\" }\n      if (data !== undefined) {\n        markdownObj = data\n      }\n      props.handleChanges(name, markdownObj.markdown)\n    })\n    .catch(handleErrors)\n}\n\nconst getMarkdownSegment = (\n  handleNestedChanges,\n  sessionToken,\n  wikiID = \"\",\n  synId = \"syn12666371\",\n  stateKey,\n) => {\n  return getWikiData(wikiID, sessionToken, synId)\n    .then((data) => {\n      handleNestedChanges(stateKey, wikiID, data.markdown)\n    })\n    .catch(handleErrors)\n}\n\nconst getSubPageHeaders = (\n  wikiId,\n  synId,\n  sessionToken,\n  handleChangesFunc,\n  paginationValue,\n  limit,\n) => {\n  return getWikiHeaderTree(sessionToken, synId, paginationValue, limit)\n    .then((results) => {\n      const filteredResults = results.results.filter(\n        wikiPage => wikiPage.parentId === wikiId,\n      )\n      if (filteredResults.length > 0) {\n        return filteredResults\n      }\n      if (paginationValue > 350) {\n        return []\n      }\n      return getSubPageHeaders(\n        wikiId,\n        synId,\n        sessionToken,\n        handleChangesFunc,\n        paginationValue + 10,\n        limit,\n      )\n    })\n    .catch(handleErrors)\n}\n\nasync function asyncForEach(array, callback) {\n  for (let index = 0; index < array.length; index++) {\n    await callback(array[index], index, array)\n  }\n}\n\nconst waitFor = ms => new Promise(r => setTimeout(r, ms))\n\nconst getWikiMarkdownSegments = (\n  wikiId,\n  synId,\n  stateKey,\n  sessionToken,\n  handleNestedChanges,\n  paginationValue = 10,\n  limit = false,\n) => {\n  return getSubPageHeaders(\n    wikiId,\n    synId,\n    sessionToken,\n    handleNestedChanges,\n    paginationValue,\n    limit,\n  ).then((headers) => {\n    asyncForEach(headers, async (header) => {\n      await waitFor(100)\n      getMarkdownSegment(\n        handleNestedChanges,\n        sessionToken,\n        header.id,\n        undefined,\n        stateKey,\n      )\n    })\n  })\n}\n\nconst removeMarkdownDivWrapper = (markdown) => {\n  let markdownString = markdown\n  markdownString = markdownString.substr(10)\n  markdownString = markdownString.substr(0, markdownString.length - 12)\n  return markdownString\n}\n\nexport {\n  removeMarkdownDivWrapper,\n  getWikiData,\n  getMarkdown,\n  getMarkdownSegment,\n  getWikiHeaderTree,\n  getWikiMarkdownSegments,\n  getSubPageHeaders,\n  getEntityHeader,\n  getWikiKey,\n  waitFor,\n  asyncForEach,\n  getUserProfileImage,\n  getUserProfile,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/queries/getWikiData.js","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { getMarkdown } from \"../queries/getWikiData\"\n\nclass Welcome extends Component {\n  componentDidMount() {\n    getMarkdown(this.props, \"581935\", \"welcomeHeaderMarkdown\")\n    getMarkdown(this.props, \"581936\", \"welcomeHeaderMarkdownText\")\n  }\n\n  componentWillUnmount() {\n    this.props.handleChanges(\"wikiMarkdown\", \"\")\n  }\n\n  removeMarkdownDivWrapper = (markdown) => {\n    let markdownString = markdown\n    markdownString = markdownString.substr(10)\n    markdownString = markdownString.substr(0, markdownString.length - 12)\n    return markdownString\n  };\n\n  openUrl = (event, link) => {\n    event.preventDefault()\n    window.open(link, \"_self\")\n  };\n\n  //<ReactMarkdown\n  //source={this.props.markdownText}\n  //escapeHtml={false}\n  ///>\n  render() {\n    return (\n      <section className=\"row hero\">\n        <div className=\"container flex\">\n          <div className=\"row hero-message\">\n            <div className=\"col-sm-9\">\n              <h1>Welcome to the AMP-AD Knowledge Portal</h1>\n              <p>\n                Discover and download data, analyses, and tools for the study of\n                Alzheimer's disease generated through the National Institute on\n                Aging-led AD Translational Research Program.\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"hero-background\" />\n      </section>\n    )\n  }\n}\n\nWelcome.propTypes = {\n  handleChanges: PropTypes.func.isRequired,\n}\n\nexport default Welcome\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Welcome.js"],"sourceRoot":""}